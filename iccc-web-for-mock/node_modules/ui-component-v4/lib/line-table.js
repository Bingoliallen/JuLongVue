module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 57);
/******/ })
/************************************************************************/
/******/ ({

/***/ 0:
/***/ (function(module, exports) {

module.exports = require("lodash");

/***/ }),

/***/ 1:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return normalizeComponent; });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent (
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier, /* server only */
  shadowMode /* vue-cli only */
) {
  // Vue.extend constructor export interop
  var options = typeof scriptExports === 'function'
    ? scriptExports.options
    : scriptExports

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) { // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functioal component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection (h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing
        ? [].concat(existing, hook)
        : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ }),

/***/ 13:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
function _broadcast(componentName, eventName, params) {
  this.$children.forEach(function (child) {
    var name = child.$options.componentName;

    if (name === componentName) {
      child.$emit.apply(child, [eventName].concat(params));
    } else {
      _broadcast.apply(child, [componentName, eventName].concat([params]));
    }
  });
}
/* harmony default export */ __webpack_exports__["a"] = ({
  methods: {
    dispatch: function dispatch(componentName, eventName, params) {
      var parent = this.$parent || this.$root;
      var name = parent.$options.componentName;

      while (parent && (!name || name !== componentName)) {
        parent = parent.$parent;

        if (parent) {
          name = parent.$options.componentName;
        }
      }
      if (parent) {
        parent.$emit.apply(parent, [eventName].concat(params));
      }
    },
    broadcast: function broadcast(componentName, eventName, params) {
      _broadcast.call(this, componentName, eventName, params);
    }
  }
});

/***/ }),

/***/ 19:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return getChildrenRefs; });
function getChildrenRefs(component, ref) {
  var method = {};
  for (var key in component.methods) {
    method[key] = new Function("return this.$refs." + ref + "." + key + ".apply(this,arguments)");
  }
  return method;
}

/***/ }),

/***/ 2:
/***/ (function(module, exports) {

module.exports = require("element-ui");

/***/ }),

/***/ 20:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*
 * @Author: lutz 
 * @Date: 2019-04-10 13:21:57 
 * @Last Modified by:   lutz 
 * @Last Modified time: 2019-06-10 13:21:57 
 */

/* harmony default export */ __webpack_exports__["a"] = ({
  default: '字段上验证处在错误%s',
  required: '%s是必须的',
  enum: '%s必须是其中之一%s',
  whitespace: '%s不能为空',
  date: {
    format: '%s日期%s是无效格式%s',
    parse: '%s日期格式不能被解析,%s是无效的 ',
    invalid: '%s无效日期格式：%s'
  },
  types: {
    string: '%s不是一个字符(%s)类型',
    method: '%s不是一个%s(function)类型',
    array: '%s不是一个数组(%s)类型',
    object: '%s不是一个对象(%s)类型',
    number: '%s不是一个数字(%s)类型',
    date: '%s不是一个日期(%s)类型',
    boolean: '%s不是一个布尔(%s)类型',
    integer: '%s不是一个整型(%s)类型',
    float: '%s不是一个浮点(%s)类型',
    regexp: '%s不是一个有效正则(%s)类型',
    email: '%s不是一个有效值%s格式',
    url: '%s不是一个有效值%s格式',
    hex: '%s不是一个有效值%s格式'
  },
  string: {
    len: '%s必须等于%s字节',
    min: '%s必须大于%s字符',
    max: '%s必须小于%s字节',
    range: '%s必须在%s到%s字符内'
  },
  number: {
    len: '%s必须等于%s',
    min: '%s必须大于%s',
    max: '%s必须小于%s',
    range: '%s必须在%s到%s范围内'
  },
  array: {
    len: '%s数组长度必须等于%s',
    min: '%s数组长度必须大于%s',
    max: '%s数组长度必须小于%s',
    range: '%s数组长度必须在%s到%s范围内'
  },
  pattern: {
    mismatch: '%s的值%s不能正确匹配%s'
  }
});

/***/ }),

/***/ 24:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export ruleStr2Obj */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ruleChange; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var packages_form_item_src_message_CN_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20);



// 正则匹配 range[*]
var reg = /range\[(\S*)\]/i;
// 匹配空字符串
var reg_space = /\s+/g;
var seq = ",";

/**
 *  rule字段 String to Object
 *   a) require 必须值
 *   b) type 类型需求，请查看 message-CN.js 中的 types字段
 *   c) range 范围需求
 *       *range 使用 async-validator 没提供使用说明,所以提供以下类似python的范围语法
 *       range[50] => { len: 50 }
 *       range[1:] => { min: 1 }
 *       range[:100] => { max: 100 }
 *       range[1:100] => { min: 1, max: 100 }
 * @param {String} str rule 字段值
 * @returns {Object}
 */
function ruleStr2Obj() {
  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "";

  // 去除空格
  var rules = str.replace(reg_space, "");
  var arr = rules.split(seq);
  rules = {};
  // mgs.types中匹配类型
  var type = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.intersection(arr, Object.keys(packages_form_item_src_message_CN_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"].types));
  // 如果多个匹配则取第一个
  if (type && type.length) {
    rules.type = type[0];
  }
  // require: true?
  if (arr && arr.length && arr.indexOf("required") !== -1) {
    rules.required = true;
  }
  arr.forEach(function (item) {
    if (reg.test(item)) {
      var substr = item.match(reg);
      if (substr) {
        var valStr = substr[1];
        // ~-1 === 0
        if (~valStr.indexOf(":")) {
          var val = valStr.split(":");
          if (val[0]) {
            rules.min = parseInt(val[0]);
          }

          if (val[1]) {
            rules.max = parseInt(val[1]);
          }
        } else {
          rules.len = parseInt(valStr);
        }
      }
    }
  });
  return rules;
}

/**
 * formItem 或 form 中 rule 字段的转换
 * @param {*} rules rule 字段值
 * @param {Enum} type ['formItem', 'form'] 对应字母的组件
 * @returns {Array|Object}
 */
function ruleChange(rules, type) {
  // 防止void 0、null、0、''、NaN情况
  if (!rules) {
    return;
  }
  var selfRules = rules;
  if (type === "formItem" && lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isString(rules)) {
    selfRules = ruleStr2Obj(rules);
  }
  if (type === "form") {
    selfRules = {};
    for (var key in rules) {
      var item = rules[key];
      selfRules[key] = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isString(item) ? ruleStr2Obj(item) : item;
    }
  }
  return selfRules;
}

/***/ }),

/***/ 26:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/table/src/main.vue?vue&type=template&id=dbfcea2e&
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "dg-table" },
    [
      _c(
        "div",
        { staticClass: "dg-table__content" },
        [
          _c(
            "el-table",
            _vm._g(
              _vm._b(
                {
                  directives: [
                    {
                      name: "loading",
                      rawName: "v-loading",
                      value: _vm.loadding,
                      expression: "loadding"
                    }
                  ],
                  ref: "grid",
                  class: [
                    _vm.renderData.length === 0 && !_vm.$attrs.border
                      ? "is-hidden-border-bottom"
                      : ""
                  ],
                  attrs: {
                    data: _vm.renderData,
                    "row-key": _vm.rowKey,
                    prop: _vm.prop,
                    border: _vm.border
                  },
                  on: {
                    "selection-change": _vm.handleSelectItem,
                    "sort-change": _vm.handleSortChange
                  }
                },
                "el-table",
                _vm.attrs,
                false
              ),
              _vm.$listeners
            ),
            [
              _vm._t("default"),
              _c("template", { slot: "empty" }, [_vm._t("empty")], 2),
              _vm._t("append")
            ],
            2
          )
        ],
        1
      ),
      _vm.pagination && _vm.renderData.length > 0
        ? [
            _c(
              "el-pagination",
              _vm._b(
                {
                  staticClass: "dg-table__pagination",
                  on: {
                    "size-change": _vm.handleSizeChange,
                    "current-change": _vm.handleCurrentChange,
                    "prev-click": _vm.handlePrevClick,
                    "next-click": _vm.handleNextClick
                  }
                },
                "el-pagination",
                _vm.paginationOptions,
                false
              )
            )
          ]
        : [_vm._t("pagination")]
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/table/src/main.vue?vue&type=template&id=dbfcea2e&

// EXTERNAL MODULE: external "lodash"
var external_lodash_ = __webpack_require__(0);
var external_lodash_default = /*#__PURE__*/__webpack_require__.n(external_lodash_);

// EXTERNAL MODULE: external "sortablejs"
var external_sortablejs_ = __webpack_require__(28);
var external_sortablejs_default = /*#__PURE__*/__webpack_require__.n(external_sortablejs_);

// EXTERNAL MODULE: external "element-ui"
var external_element_ui_ = __webpack_require__(2);

// CONCATENATED MODULE: ./packages/table/src/autoPageSize.js
/**
 * 此处填写文件描述
 * @Author: yangjy
 * @Date: 2019-06-06
 * @Project ui-component-v4
 */



/* harmony default export */ var autoPageSize = (function (strats, count) {
    var pageTotal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;

    var pageSize = 10;
    if (strats && external_lodash_default.a.isFunction(strats)) {
        var height = strats(document.body.clientHeight || window.innerHeight, count);
        if (height <= 0) {
            return [10, 15, 20];
        }
        pageSize = Math.floor(height / 46 - 2);
        pageSize = pageSize || 1;
    }

    // let pageTotal = Math.ceil(count / pageSize);
    var pageSizes = [];
    // 遍历页数表
    for (var i = 1; i <= pageTotal; i++) {
        pageSizes.push(pageSize * i);
    }
    return pageSizes;
});
// EXTERNAL MODULE: ./src/utils/merge.js
var merge = __webpack_require__(8);

// EXTERNAL MODULE: ./src/dg-utils/children.refs.js
var children_refs = __webpack_require__(19);

// EXTERNAL MODULE: ./src/dg-utils/shear.js
var shear = __webpack_require__(5);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/table/src/main.vue?vue&type=script&lang=js&
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


// info views by https://github.com/SortableJS/Sortable







var TableRefs = Object(children_refs["a" /* default */])(external_element_ui_["Table"], 'grid');

/* harmony default export */ var mainvue_type_script_lang_js_ = ({
    name: 'DgTable',

    provide: function provide() {
        return {
            overflow: this.overflow,
            paginationOptions: this.paginationOptions
        };
    },


    props: {
        // 透传属性
        // ElTable.ElTableBody 使用<DgTableSelect :prop="defaultProp" />
        prop: Object,
        // 默认数据
        data: {
            type: Array,
            default: function _default() {
                return [];
            }
        },
        // 分页类型 client | server
        pagingType: {
            type: String,
            default: 'server',
            validator: function validator(val) {
                return ['client', 'server'].indexOf(val) !== -1;
            }
        },
        // 是否可拖拽
        draggable: {
            type: Boolean,
            default: false
        },
        // 拖拽配置项
        dragProps: {
            type: Object,
            default: function _default() {}
        },
        // 是否开启分页
        pagination: {
            type: Boolean,
            default: true
        },
        // 分页配置参数
        paginationProps: {
            type: Object,
            default: function _default() {}
        },
        // 总条数
        paginationTotal: {
            type: Number,
            default: 10
        },
        // 开启是否自动计算分页条数
        autoPage: {
            type: [String, Function]
        },
        border: {
            type: Boolean,
            default: false
        },
        // 行 ID 名称
        rowKey: {
            type: [Function, String],
            default: 'id'
        },
        loading: {
            type: Boolean,
            default: false
        },
        overflow: {
            // tooltip、wrap、origin
            type: String,
            default: 'tooltip'
        },
        // 复选框默认选中值
        selectDefault: {
            type: [Number, String, Array]
        },
        // 若 selectDefault为String时的分隔符
        seq: {
            type: String,
            default: ','
        },
        tableDraggable: {
            type: Boolean,
            default: false
        }
    },

    data: function data() {
        return {
            orignData: [],
            sortColumn: {},
            loadding: this.loading,
            // 默认数据
            dataSource: this.data,
            dataClient: this.data,
            // 拖拽对象
            sortable: null,
            // 分页参数配置
            paginationOptions: {
                currentPage: 1,
                pageSizes: [10, 20, 30],
                pageSize: 10,
                layout: 'total, sizes, prev, pager, next, jumper',
                total: this.paginationTotal
            },
            // 当前分页选中值
            currentSelected: []
        };
    },


    computed: {
        renderData: function renderData() {
            if (this.pagination == true && this.pagingType === 'client') {
                var column = this.sortColumn;
                var _paginationOptions = this.paginationOptions,
                    pageSize = _paginationOptions.pageSize,
                    currentPage = _paginationOptions.currentPage;

                var start = (currentPage - 1) * pageSize;

                var tmpData = [];
                if (!column.order) {
                    tmpData = this.dataClient;
                } else if (column.order === 'ascending') {
                    tmpData = external_lodash_default.a.sortBy(this.dataClient, function (item) {
                        return item[column.property];
                    });
                } else if (column.order === 'descending') {
                    tmpData = external_lodash_default.a.sortBy(this.dataClient, function (item) {
                        return -item[column.property];
                    });
                }

                this.dataSource = tmpData.slice(start, start + pageSize);
            } else if (this.pagination == false && this.pagingType === 'client') {
                this.dataSource = this.dataClient;
            }
            return this.dataSource;
        },


        // 拖拽参数配置
        dragOptions: function dragOptions() {
            return Object(merge["a" /* default */])({
                ghostClass: 'dg-table__placeholder',
                dragClass: 'dg-table__placeholder',
                chosenClass: 'dg-table__placeholder',
                setData: this.handleDragSetData,
                onEnd: this.handleDragOnEnd
            }, this.dragProps);
        },
        attrs: function attrs() {
            return _extends({}, Object(shear["d" /* getCmpProps */])(external_element_ui_["Table"], this), { draggable: this.tableDraggable });
        }
    },

    watch: {
        selectDefault: {
            deep: true,
            immediate: true,
            handler: function handler() {
                var val = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
                var seq = this.seq;

                var check = val;
                if (external_lodash_default.a.isString(val)) {
                    // isString
                    check = val.split(seq);
                } else if (external_lodash_default.a.isNumber(val)) {
                    // isNumber
                    check = [val];
                }
                this.currentSelected = external_lodash_default.a.uniq(check);
            }
        },
        // 监听数据
        data: {
            deep: true,
            immediate: true,
            handler: function handler(data, oldData) {
                if (this.pagingType == 'client') {
                    this.orignData = data;
                    this.dataClient = data;
                    var totalPage = Math.ceil(data.length / this.paginationOptions.pageSize);
                    if (totalPage < this.paginationOptions.currentPage) {
                        this.paginationOptions.currentPage = totalPage || 1;
                    }
                    this.paginationOptions.total = data.length;
                } else {
                    this.dataSource = data;
                }
                // 客户端数据且没有分页
                if (!this.pagination && this.pagingType === 'client') {
                    this.dataSource = this.dataClient;
                }
            }
        },
        paginationTotal: {
            handler: function handler(val) {
                this.paginationOptions.total = val;
            }
        },
        paginationProps: {
            deep: true,
            immediate: true,
            handler: function handler(val) {
                var total = this.paginationOptions.total;
                this.pagingType === 'client' && (total = this.dataClient.length);
                if (this.autoPage) {
                    var _pageSizes = autoPageSize(this.autoPage, total);
                    this.paginationOptions = Object(merge["a" /* default */])({
                        currentPage: 1,
                        pageSizes: _pageSizes,
                        pageSize: _pageSizes[0],
                        layout: 'total, sizes, prev, pager, next, jumper',
                        total: total
                    });
                } else {
                    this.paginationOptions = Object(merge["a" /* default */])({
                        currentPage: 1,
                        pageSizes: [10, 20, 30],
                        pageSize: 10,
                        layout: 'total, sizes, prev, pager, next, jumper',
                        total: total
                    }, val);
                }
                if (!this.paginationOptions.pageSizes.includes(this.paginationOptions.pageSize)) {
                    this.paginationOptions.pageSizes.unshift(this.paginationOptions.pageSize);
                }
            }
        },
        // 监听服务端数据
        dataSource: {
            immediate: true,
            deep: true,
            handler: function handler(val) {
                // 选中
                this.handleDefCheck();
                this.$emit('change-data', val);
            }
        }
    },

    components: {
        ElTable: external_element_ui_["Table"],
        ElPagination: external_element_ui_["Pagination"]
    },

    methods: _extends({
        changeLoading: function changeLoading() {
            this.loadding = !this.loadding;
        },


        /**
         * 拖拽操作
         *
         */
        handleSortTable: function handleSortTable() {
            var el = this.$refs.grid.$el.querySelectorAll('.el-table__body-wrapper > table > tbody')[0];
            this.sortable = external_sortablejs_default.a.create(el, this.dragOptions);
        },


        /**
         * 拖拽配置参数
         * @param dataTransfer
         */
        handleDragSetData: function handleDragSetData(dataTransfer) {
            dataTransfer.setData('Text', '');
        },


        /**
         * 拖拽显示排序
         * @param evt
         */
        handleDragOnEnd: function handleDragOnEnd(evt) {
            var data = this.pagingType === 'client' ? this.dataClient : this.dataSource;
            var targetRow = data.splice(evt.oldIndex, 1)[0];
            data.splice(evt.newIndex, 0, targetRow);

            // 拖拽回传数据
            this.$emit('drag-end', data);
        },


        /**
         * 页数值改变方法
         *
         * @param evt
         */
        handleSizeChange: function handleSizeChange(val) {
            this.paginationOptions.pageSize = val;
            this.paginationOptions.currentPage = 1;
            this.$emit('change-size', val);
        },


        /**
         * 当前页改变方法
         *
         * @param evt
         */
        handleCurrentChange: function handleCurrentChange(val) {
            this.paginationOptions.currentPage = val;
            this.$emit('change-current', val);
        },


        /**
         * 排序改变方法
         */
        handleSortChange: function handleSortChange(_ref) {
            var column = _ref.column,
                prop = _ref.prop,
                order = _ref.order;

            column && (this.sortColumn = column);
            // this.$emit('sort-change', { column, prop, order });
            this._handleSortChange({ column: column, prop: prop, order: order });
        },
        _handleSortChange: function _handleSortChange() {},


        /**
         * 点击上一页
         *
         * @param evt
         */
        handlePrevClick: function handlePrevClick(val) {
            this.$emit('click-prev', val);
        },


        /**
         * 点击下一页
         *
         * @param evt
         */
        handleNextClick: function handleNextClick(val) {
            this.$emit('click-next', val);
        },


        // /**
        //  * 选择选项值
        //  */
        // handleSelectItem(val) {
        //     // 当前页选中值
        //     this.currentSelected = val;
        // },
        /* type="selection" start */
        // 复选框操作
        handleSelectItem: function handleSelectItem(val) {
            var currentSelected = this.currentSelected,
                dataSource = this.dataSource,
                rowKey = this.rowKey;

            var key = external_lodash_default.a.isString(rowKey) ? rowKey : 'id';
            var check = val.map(function (item) {
                return item[key];
            });
            // 当前页面 key 集合
            var dataId = dataSource.map(function (item) {
                return item[key];
            });
            // 展示页面中不存在，但却选中的 key
            var beforeSelect = currentSelected.filter(function (item) {
                return !external_lodash_default.a.includes(dataId, item);
            }) || [];
            // 当前页选中值
            this.currentSelected = external_lodash_default.a.uniq([].concat(check, beforeSelect));
        },


        // 动态变化多次需要用时间获取
        getCheck: function getCheck() {
            return this.currentSelected;
        },


        // 勾选值(当前显示页、其他显示页)
        setCheck: function setCheck(rows) {
            var _this = this;

            var rowKey = this.rowKey,
                dataSource = this.dataSource,
                currentSelected = this.currentSelected;

            var key = external_lodash_default.a.isString(rowKey) ? rowKey : 'id';
            // 去除已经选中的，若没有此代码选中状态会被取消
            rows = external_lodash_default.a.difference(rows, currentSelected);
            // 当前页面需要勾选的
            var currentCheck = dataSource.filter(function (item) {
                return external_lodash_default.a.includes(rows, item[key]);
            });
            if (currentCheck && currentCheck.length) {
                currentCheck.forEach(function (row) {
                    return _this.$refs.grid.toggleRowSelection(row, true);
                });
            }
            // 其他显示页
            var otherCheck = external_lodash_default.a.difference(rows, currentCheck);
            this.currentSelected = external_lodash_default.a.uniq([].concat(currentSelected, otherCheck));
        },


        // 清空所有选中
        clearAll: function clearAll() {
            this.$refs.grid.clearSelection();
            this.currentSelected = [];
        },


        // 默认选中
        handleDefCheck: function handleDefCheck() {
            var _this2 = this;

            if (this.selectDefault === void 0) {
                return;
            }

            var currentSelected = this.currentSelected,
                rowKey = this.rowKey,
                dataSource = this.dataSource,
                typeSelect = this.typeSelect;

            var key = external_lodash_default.a.isString(rowKey) ? rowKey : 'id';

            // 兼容 reserve-selection 属性
            if (typeSelect) {
                this.$nextTick(function () {
                    var dataClient = _this2.dataClient;

                    var client = dataClient.filter(function (item) {
                        return external_lodash_default.a.includes(currentSelected, item[key]);
                    });
                    client.forEach(function (row) {
                        return _this2.$refs.grid.toggleRowSelection(row, true);
                    });
                });
                return;
            }

            if (currentSelected && currentSelected.length) {
                // IF _.isFunction => 'id'
                this.$nextTick(function () {
                    var currentSelect = dataSource.filter(function (item) {
                        return external_lodash_default.a.includes(currentSelected, item[key]);
                    });
                    currentSelect.forEach(function (row) {
                        return _this2.$refs.grid.toggleRowSelection(row, true);
                    });
                });
            }
        }
    }, TableRefs),

    created: function created() {
        var _this3 = this;

        // 初始化执行
        if (this.draggable) {
            this.$nextTick(function () {
                // 拖拽操作
                _this3.handleSortTable();
            });
        }

        // 分页配置
        if (!this.pagination) {
            return;
        }
    }
});
// CONCATENATED MODULE: ./packages/table/src/main.vue?vue&type=script&lang=js&
 /* harmony default export */ var src_mainvue_type_script_lang_js_ = (mainvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./packages/table/src/main.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  src_mainvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "packages/table/src/main.vue"
/* harmony default export */ var main = (component.exports);
// CONCATENATED MODULE: ./packages/table/index.js


/* istanbul ignore next */
main.install = function (Vue) {
    Vue.component(main.name, main);
};

/* harmony default export */ var table = __webpack_exports__["default"] = (main);

/***/ }),

/***/ 28:
/***/ (function(module, exports) {

module.exports = require("sortablejs");

/***/ }),

/***/ 29:
/***/ (function(module, exports) {

module.exports = require("async-validator");

/***/ }),

/***/ 4:
/***/ (function(module, exports) {

module.exports = require("vue");

/***/ }),

/***/ 5:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return complex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return filterObj; });
/* unused harmony export replaceObj */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return complexObj; });
/* unused harmony export hyphenate */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return getCmpProps; });
/* unused harmony export getCmpEvents */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return getCmpType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return getCmpPropsFromAttrs; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

/*
 * @Author: lutz
 * @Date: 2019-06-05 17:05:32
 * @Last Modified by: lutz
 * @Last Modified time: 2019-12-06 08:58:43
 */



/**
 * 修改组件属性或对象的属性
 * 深度克隆
 * @param {Object} cpm
 * @param {Array|Object} hook 生命周期函数和组件属性；数组默认删除，对象默认替换（恒等undefined，默认删除）
 * @param {Array|Object} watch 监听属性的修改
 * @return {Object}
 */
function complex(cpm, hook, watch) {
    var component = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.cloneDeep(cpm);

    if (hook) {
        if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(hook)) {
            hook.forEach(function (item) {
                delete component[item];
            });
        } else if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isObject(hook)) {
            for (var key in hook) {
                if (hook[key] === void 0) {
                    delete component[key];
                } else {
                    component[key] = hook[key];
                }
            }
        }
    }

    if (watch) {
        if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(watch) && component.watch) {
            watch.forEach(function (item) {
                delete component.watch[item];
            });
        } else if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isObject(watch)) {
            for (var _key in watch) {
                if (watch[_key] === void 0) {
                    delete component.watch[_key];
                } else {
                    component.watch[_key] = watch[_key];
                }
            }
        }
    }

    return component;
}

/**
 * 删除对象上的属性
 * @param {object} obj 需要操作的对象
 * @param {array} filterArr 需要删除的属性名称
 *
 * @return {object}
 */
function filterObj() {
    var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var filterArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

    var newObj = _extends({}, obj);
    filterArr.forEach(function (item) {
        delete newObj[item];
    });
    return newObj;
}

/**
 * 替换对象上的属性
 * @param {object} obj 需要操作的对象
 * @param {object} filterObj 需要替换的属性名称，undefined则会删除对象上属性
 *
 * @return {object}
 */
function replaceObj() {
    var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var filterObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var newObj = _extends({}, obj, filterObj);
    Object.keys(filterObj).forEach(function (item) {
        if (filterObj[item] === void 0) {
            delete newObj[item];
        }
    });
    return newObj;
}

/**
 * 根据参数操作对象
 * 浅拷贝
 * demo
 * a) 过滤undefined
 *  var obj = { input: void 0, change() { console.log('change') } }
 *  complexObj(obj, null, true) // { change: f }
 *  obj // { input: undefined, change: f }
 *
 * b) 删除属性
 *  var obj = { a: 2, b: 3 }, arr = ['a', 'c']
 *  complexObj(obj, arr) // { b: 3 }
 *  obj // {a: 2, b: 3}
 *
 * c) 替换属性
 *  var obj = { a: 2, b: 3 }, fobj = { a: void 0, c: 9, b: 4 }
 *  complexObj(obj, fobj) // { b: 4, c: 9 }
 *  obj // {a: 2, b: 3}
 *
 *
 * @param {object} obj 需要操作的对象
 * @param {array|object} filterVal 数组：需要删除的属性名称，对象：需要替换的属性名称，undefined则会删除对象上属性
 * @param {boolen} filterNull 是否过滤 undefined
 *
 * @return {object}
 */
function complexObj(obj, filterVal) {
    var filterNull = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

    var newObj = _extends({}, obj);

    if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isArray(filterVal)) {
        newObj = filterObj(obj, filterVal);
    } else if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isObject(filterVal)) {
        newObj = replaceObj(obj, filterVal);
    }

    // 过滤 undefined
    if (filterNull) {
        Object.keys(newObj).forEach(function (item) {
            if (newObj[item] === void 0) {
                delete newObj[item];
            }
        });
    }

    return newObj;
}

var hyphenateRE = /\B([A-Z])/g;

/**
 * 将驼峰转换成-隔开
 * hyphenate('ElTable') => "el-table"
 * @param {string} str
 * @return {string}
 */
var hyphenate = function hyphenate(str) {
    return str.replace(hyphenateRE, "-$1").toLowerCase();
};

/**
 * 获取指定组件的参数值
 * @param cmp 组件对象，如ElTable
 * @param instance  当前组件对象,调用时，传this
 * @param filterObject 过滤属性值，{name:"11",sex:(props,val)=>val,age:undefined} 属性undefined 删除属性
 */
function getCmpProps(cmp, instance) {
    var filterObj = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

    // 如果不是组件函数，则生成组件函数，主要是把混合的属性合并在一起
    if (!lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(cmp)) {
        cmp = instance.constructor.extend(cmp);
    }
    // 传入属性值+默认的值
    var propsData = _extends({}, instance.$attrs, instance.$props);

    // 过滤属性值
    var cmpProps = {};
    lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forOwn(cmp.options.props, function (value, key) {
        var propValue = propsData[key] || propsData[hyphenate(key)];
        // 过滤组件属性
        if (filterObj.hasOwnProperty(key)) {
            propValue = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(filterObj[key]) ? filterObj[key](propsData, propValue) : filterObj[key];
        }

        // 过滤 undefined
        if (propValue !== undefined) {
            cmpProps[key] = propValue;
        }
    });

    return cmpProps;
}

/**
 * 获取组件的事件对象
 * @param instance
 * @param filterObj {click:"handleClick",change:(evt)=>val,input:undefined} 属性undefined 删除属性
 * @returns {*}
 */
function getCmpEvents(instance) {
    var filterObj = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var listeners = lodash__WEBPACK_IMPORTED_MODULE_0___default.a.clone(instance.$listeners);
    lodash__WEBPACK_IMPORTED_MODULE_0___default.a.forOwn(filterObj, function (val, key) {
        if (val && lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isString(val)) {
            listeners[key] = instance[val];
        } else if (val && lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isFunction(val)) {
            listeners[key] = val;
        } else if (val === undefined) {
            delete listeners[key];
        }
    });
    return listeners;
}

/**
 * 根据组件参数是，require、import获取组件的对象
 * @param type
 * @returns {type}
 */
function getCmpType(type) {
    if (lodash__WEBPACK_IMPORTED_MODULE_0___default.a.isObject(type) && type.default) {
        type = type.default;
    }
    if (type && type instanceof Promise) {
        var promise = type;
        type = function type(resolve, reject) {
            promise.then(function (obj) {
                resolve(obj);
            });
        };
    }
    return type;
}

/**
 * 从$attrs获取匹配的属性
 * @param instance
 * @param reg
 */
function getCmpPropsFromAttrs(instance, reg) {
    var attr = instance.$attrs;
    var obj = {};

    Object.keys(attr).map(function (item) {
        if (reg.test(item)) {
            obj[item.replace(reg, "")] = attr[item];
        }
    });

    return obj;
}

/***/ }),

/***/ 57:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./packages/line-table/src/main.vue?vue&type=template&id=17d3cb8a&
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c(
    "div",
    { staticClass: "dg-table" },
    [
      _c(
        "div",
        { staticClass: "dg-table__content" },
        [
          _c(
            "el-form",
            {
              ref: "form",
              attrs: {
                prop: "form",
                model: { form: _vm.renderData },
                rules: _vm.formRules,
                "label-position": "right"
              }
            },
            [
              _c(
                "el-table",
                _vm._g(
                  _vm._b(
                    {
                      directives: [
                        {
                          name: "clickoutside",
                          rawName: "v-clickoutside",
                          value: _vm.handleOutsideClick,
                          expression: "handleOutsideClick"
                        },
                        {
                          name: "loading",
                          rawName: "v-loading",
                          value: _vm.loadding,
                          expression: "loadding"
                        }
                      ],
                      ref: "grid",
                      attrs: {
                        data: _vm.renderData,
                        "row-key": _vm.rowKey,
                        border: _vm.border
                      },
                      on: {
                        "header-click": _vm.handleHeaderClick,
                        "selection-change": _vm.handleSelectItem,
                        "sort-change": _vm.handleSortChange
                      }
                    },
                    "el-table",
                    _vm.attrs,
                    false
                  ),
                  _vm.$listeners
                ),
                [_vm._t("default"), _vm._t("append")],
                2
              )
            ],
            1
          )
        ],
        1
      ),
      _vm.pagination
        ? [
            _c(
              "el-pagination",
              _vm._b(
                {
                  staticClass: "dg-table__pagination",
                  on: {
                    "size-change": _vm.handleSizeChange,
                    "current-change": _vm.handleCurrentChange,
                    "prev-click": _vm.handlePrevClick,
                    "next-click": _vm.handleNextClick
                  }
                },
                "el-pagination",
                _vm.paginationOptions,
                false
              )
            )
          ]
        : [_vm._t("pagination")]
    ],
    2
  )
}
var staticRenderFns = []
render._withStripped = true


// CONCATENATED MODULE: ./packages/line-table/src/main.vue?vue&type=template&id=17d3cb8a&

// EXTERNAL MODULE: external "lodash"
var external_lodash_ = __webpack_require__(0);
var external_lodash_default = /*#__PURE__*/__webpack_require__.n(external_lodash_);

// EXTERNAL MODULE: external "async-validator"
var external_async_validator_ = __webpack_require__(29);
var external_async_validator_default = /*#__PURE__*/__webpack_require__.n(external_async_validator_);

// CONCATENATED MODULE: ./packages/line-table/src/async-queue.js
/**
 * 异步队列
 * @Author: yangjy
 * @Date: 2019-06-19
 * @Project ui-component-v4
 */
/* harmony default export */ var async_queue = (function (queue, fn, cb) {
    var step = function step(index) {
        if (index >= queue.length) {
            cb();
        } else {
            if (queue[index]) {
                fn(queue[index], function () {
                    step(index + 1);
                });
            } else {
                step(index + 1);
            }
        }
    };
    step(0);
});
// EXTERNAL MODULE: ./packages/table/index.js + 6 modules
var table = __webpack_require__(26);

// EXTERNAL MODULE: external "vue"
var external_vue_ = __webpack_require__(4);
var external_vue_default = /*#__PURE__*/__webpack_require__.n(external_vue_);

// EXTERNAL MODULE: ./src/utils/dom.js
var dom = __webpack_require__(6);

// CONCATENATED MODULE: ./src/dg-directives/clickoutside.js




var nodeList = [];
var ctx = "@@clickoutsideContext";

var startClick = void 0;
var seed = 0;

!external_vue_default.a.prototype.$isServer && Object(dom["c" /* on */])(document, "mousedown", function (e) {
  return startClick = e;
});

!external_vue_default.a.prototype.$isServer && Object(dom["c" /* on */])(document, "mouseup", function (e) {
  nodeList.forEach(function (node) {
    return node[ctx].documentHandler(e, startClick);
  });
});
function deepContainPopper(vnode, mousedown, mouseup) {
  // 过滤掉子节点不存在日期和下拉类似浮层点击
  var isContain = false;
  var isFilter = function isFilter(vnode) {
    // 节点实例的存在浮层，且包含点击元素
    if (vnode.context && vnode.context.popperElm && vnode.context.popperElm.contains(mousedown.target)) {
      isContain = true;
      return;
    }
    // 普通节点找子节点，组件占位节点，找第一个根节点
    var children = !external_lodash_default.a.isEmpty(vnode.children) && vnode.children || !external_lodash_default.a.isEmpty(vnode.componentInstance) && [vnode.componentInstance._vnode] || [];
    // 递归调用子节点
    children.forEach(isFilter);
  };
  isFilter(vnode);
  return isContain;
}
function createDocumentHandler(el, binding, vnode) {
  return function () {
    var mouseup = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var mousedown = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    if (!vnode || !vnode.context || !mouseup.target || !mousedown.target || el.contains(mouseup.target) || el.contains(mousedown.target) || el === mouseup.target || vnode.context.popperElm && (vnode.context.popperElm.contains(mouseup.target) || vnode.context.popperElm.contains(mousedown.target)) || deepContainPopper(vnode, mousedown, mouseup) // 增加yangjy ，深度遍历子节点是否存在弹层包含点击元素
    ) return;

    if (binding.expression && el[ctx].methodName && vnode.context[el[ctx].methodName]) {
      vnode.context[el[ctx].methodName]();
    } else {
      el[ctx].bindingFn && el[ctx].bindingFn();
    }
  };
}

/**
 * v-clickoutside
 * @desc 点击元素外面才会触发的事件
 * @example
 * ```vue
 * <div v-element-clickoutside="handleClose">
 * ```
 */
/* harmony default export */ var clickoutside = ({
  bind: function bind(el, binding, vnode) {
    nodeList.push(el);
    var id = seed++;
    el[ctx] = {
      id: id,
      documentHandler: createDocumentHandler(el, binding, vnode),
      methodName: binding.expression,
      bindingFn: binding.value
    };
  },
  update: function update(el, binding, vnode) {
    el[ctx].documentHandler = createDocumentHandler(el, binding, vnode);
    el[ctx].methodName = binding.expression;
    el[ctx].bindingFn = binding.value;
  },
  unbind: function unbind(el) {
    var len = nodeList.length;

    for (var i = 0; i < len; i++) {
      if (nodeList[i][ctx].id === el[ctx].id) {
        nodeList.splice(i, 1);
        break;
      }
    }
    delete el[ctx];
  }
});
// EXTERNAL MODULE: ./src/mixins/emitter.js
var emitter = __webpack_require__(13);

// EXTERNAL MODULE: ./src/dg-utils/rules-convert.js
var rules_convert = __webpack_require__(24);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./packages/line-table/src/main.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//









/* harmony default export */ var mainvue_type_script_lang_js_ = ({
    name: 'DgLineTable',

    componentName: 'DgLineTable',

    mixins: [emitter["a" /* default */], table["default"]],

    model: {
        prop: 'data'
    },

    directives: {
        clickoutside: clickoutside
    },

    provide: function provide() {
        return {
            overflow: this.overflow,
            formTable: this
        };
    },


    props: {
        // form表单数据的字段名称
        prop: {
            type: String,
            default: 'form'
        },
        // 模式，行，列,row,cell
        mode: {
            type: String,
            default: 'row'
        },
        // 验证规则
        rules: Object,
        // 文本超出，模式
        overflow: {
            type: String,
            default: 'wrap'
        },
        // 全局禁用用
        disabled: {
            type: Boolean,
            default: false
        }
    },

    data: function data() {
        return {
            editRow: {}, // 编辑行
            editColumn: {}, // 编辑列
            oldRowMap: {},
            oldColumnMap: {}
        };
    },


    computed: {
        parentForm: function parentForm() {
            var parent = this.$parent;
            var parentName = parent.$options.componentName;
            while (parentName !== 'ElForm') {
                parent = parent.$parent;
                parentName = parent.$options.componentName;
            }
            return parent;
        },
        formRules: function formRules() {
            var prop = this.prop;
            var rules = this.rules || prop && this.parentForm.rules && this.parentForm.rules[prop] || {};
            return Object(rules_convert["a" /* ruleChange */])(rules, 'form');
        }
    },

    methods: {
        /**
         * 插入行
         * @param index
         * @param row
         */
        insertAt: function insertAt(index) {
            var row = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            // 初始化行数据
            this.$refs.grid.columns.forEach(function (item) {
                if (item.property) {
                    row[item.property] = row[item.property];
                }
            });
            // -1，追加最后，>=0 指定位置
            if (index < 0) {
                this.dataClient.push(row);
            } else {
                this.dataClient.splice(index, 0, row);
            }
            return row;
        },

        /**
         * 是否焦点编辑行或列
         * @param row
         * @param column
         * @returns {boolean}
         */
        isActive: function isActive(row) {
            var column = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.editColumn;

            if (external_lodash_default.a.isEmpty(row)) {
                return !external_lodash_default.a.isEmpty(this.editRow);
            }
            return !external_lodash_default.a.isEmpty(this.editRow) && row === this.editRow && column === this.editColumn;
        },

        /**
         * 设置焦点编辑行列
         * @param row
         * @param column
         */
        setActive: function setActive() {
            var row = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
            var column = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            // 不在本页，先切换页
            if (this.pagingType == 'client') {
                var _paginationOptions = this.paginationOptions,
                    currentPage = _paginationOptions.currentPage,
                    pageSize = _paginationOptions.pageSize;

                var index = external_lodash_default.a.findIndex(this.dataClient, row);
                var pageNumber = Math.floor(index / pageSize) + 1;
                if (pageNumber != currentPage) {
                    this.paginationOptions.currentPage = pageNumber;
                }
            }

            this.editRow = row;
            this.editColumn = column;
            this.oldRowMap[row] = external_lodash_default.a.clone(row);
            this.oldColumnMap[column] = column;
        },

        /**
         * 清除焦点编辑行列
         * @param row
         * @param column
         */
        clearActive: function clearActive() {
            this.editRow = {};
            this.editColumn = {};
        },
        _validateActive: function _validateActive(cb) {
            var _this = this;

            this.validator.validate(this.editRow, function (errors, fields) {
                if (!errors) {
                    cb(true, errors);
                    return;
                }
                _this.$refs['form'].validate(function (valid, error) {
                    if (valid) {
                        _this.setActive();
                        _this.$emit('clear-active', _this.editRow, _this.editColumn);
                    }
                    cb(valid, errors);
                });
            });
        },

        /**
         * 还原焦点编辑行或列数据
         */
        resetActive: function resetActive() {
            this.reset(this.editRow, this.mode == 'cell' ? this.editColumn : {});
            this.setActive(this.editRow, this.editColumn);
        },

        /**
         * 还原行或列数据
         */
        reset: function reset(row, column) {
            if (column && column.property) {
                row[column.property] = this.oldRowMap[row][column.property];
            } else {
                external_lodash_default.a.assign(row, this.oldRowMap[row]);
            }
        },
        handleHeaderClick: function handleHeaderClick(column, e) {
            this.$emit('outside-click', undefined, column, e);
        },
        handleOutsideClick: function handleOutsideClick(e) {
            this.$emit('outside-click', undefined, undefined, e);
        },

        /**
         * 验证api，供外部调用和表单调用
         * @param str 为字符串时，为表单调用
         * @param cb
         */
        validate: function validate(str, cb) {
            var _this2 = this;

            if (external_lodash_default.a.isFunction(str)) {
                this._validateActive(str);
                return;
            }

            var _paginationOptions2 = this.paginationOptions,
                currentPage = _paginationOptions2.currentPage,
                pageSize = _paginationOptions2.pageSize;

            var recordNumberStart = (currentPage - 1) * pageSize;
            var recordNumberEnd = currentPage * pageSize;
            var validateData = [];
            this.renderData.forEach(function (row) {
                validateData.push({
                    pageNumber: currentPage,
                    row: row,
                    isActivePage: true
                });
            });

            if (this.pagingType == 'client') {
                for (var i = 0; i < this.dataClient.length; i++) {
                    if (i >= recordNumberStart && i < recordNumberEnd) {
                        continue;
                    }
                    validateData.push({
                        pageNumber: Math.floor(i / pageSize) + 1,
                        row: this.dataClient[i]
                    });
                }
            }

            async_queue(validateData, function (_ref, next) {
                var pageNumber = _ref.pageNumber,
                    row = _ref.row,
                    isActivePage = _ref.isActivePage;

                _this2.validator.validate(row, function (errors, fields) {
                    if (!errors) {
                        next();
                        return;
                    }

                    if (!isActivePage) {
                        _this2.paginationOptions.currentPage = pageNumber;
                    }
                    _this2.setActive(row);
                    _this2.$nextTick(function () {
                        _this2.$refs['form'].validate();
                    });
                    cb(errors);
                });
            }, function () {
                return cb('');
            });
        },
        validateChangeActive: function validateChangeActive(row, column, cb) {
            var _this3 = this;

            if (external_lodash_default.a.isFunction(column)) {
                cb = column;
                column = undefined;
            }

            // 本列已经是编辑行，点击不做任何事
            var isActiveColumn = this.isActive(row, column);
            if (isActiveColumn) {
                return;
            }

            // 没有编辑状态，切换行
            var isActive = this.isActive();
            if (!isActive) {
                return this.setActive(row, column);
            }

            // 本列已经不是编辑行，验证保存切换行
            this.validate(function (valid, error) {
                if (valid) {
                    cb(true, error);
                    _this3.setActive(row, column);
                } else {
                    cb(false, error);
                }
            });
        },
        validateClearActive: function validateClearActive(cb) {
            var _this4 = this;

            // 存在编辑状态，则验证，通过后保存数据
            var isActive = this.isActive();
            if (!isActive) {
                return;
            }
            this.validate(function (valid, error) {
                if (valid) {
                    // 保存数据
                    cb(true, error);
                    _this4.clearActive();
                } else {
                    cb(false, error);
                }
            });
        }
    },

    created: function created() {
        this.validator = new external_async_validator_default.a(this.formRules);
        this.dispatch('ElForm', 'el.form.addField', [this]);
    }
});
// CONCATENATED MODULE: ./packages/line-table/src/main.vue?vue&type=script&lang=js&
 /* harmony default export */ var src_mainvue_type_script_lang_js_ = (mainvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./packages/line-table/src/main.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  src_mainvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "packages/line-table/src/main.vue"
/* harmony default export */ var main = (component.exports);
// CONCATENATED MODULE: ./packages/line-table/index.js


/* istanbul ignore next */
main.install = function (Vue) {
    Vue.component(main.name, main);
};

/* harmony default export */ var line_table = __webpack_exports__["default"] = (main);

/***/ }),

/***/ 6:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return on; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return off; });
/* unused harmony export once */
/* unused harmony export hasClass */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return addClass; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return removeClass; });
/* unused harmony export getStyle */
/* unused harmony export setStyle */
/* unused harmony export isScroll */
/* unused harmony export getScrollContainer */
/* unused harmony export isInContainer */
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4);
/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vue__WEBPACK_IMPORTED_MODULE_0__);
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/* istanbul ignore next */



var isServer = vue__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.$isServer;
var SPECIAL_CHARS_REGEXP = /([\:\-\_]+(.))/g;
var MOZ_HACK_REGEXP = /^moz([A-Z])/;
var ieVersion = isServer ? 0 : Number(document.documentMode);

/* istanbul ignore next */
var trim = function trim(string) {
  return (string || "").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g, "");
};
/* istanbul ignore next */
var camelCase = function camelCase(name) {
  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {
    return offset ? letter.toUpperCase() : letter;
  }).replace(MOZ_HACK_REGEXP, "Moz$1");
};

/* istanbul ignore next */
var on = function () {
  if (!isServer && document.addEventListener) {
    return function (element, event, handler) {
      if (element && event && handler) {
        element.addEventListener(event, handler, false);
      }
    };
  } else {
    return function (element, event, handler) {
      if (element && event && handler) {
        element.attachEvent("on" + event, handler);
      }
    };
  }
}();

/* istanbul ignore next */
var off = function () {
  if (!isServer && document.removeEventListener) {
    return function (element, event, handler) {
      if (element && event) {
        element.removeEventListener(event, handler, false);
      }
    };
  } else {
    return function (element, event, handler) {
      if (element && event) {
        element.detachEvent("on" + event, handler);
      }
    };
  }
}();

/* istanbul ignore next */
var once = function once(el, event, fn) {
  var listener = function listener() {
    if (fn) {
      fn.apply(this, arguments);
    }
    off(el, event, listener);
  };
  on(el, event, listener);
};

/* istanbul ignore next */
function hasClass(el, cls) {
  if (!el || !cls) return false;
  if (cls.indexOf(" ") !== -1) throw new Error("className should not contain space.");
  if (el.classList) {
    return el.classList.contains(cls);
  } else {
    return (" " + el.className + " ").indexOf(" " + cls + " ") > -1;
  }
}

/* istanbul ignore next */
function addClass(el, cls) {
  if (!el) return;
  var curClass = el.className;
  var classes = (cls || "").split(" ");

  for (var i = 0, j = classes.length; i < j; i++) {
    var clsName = classes[i];
    if (!clsName) continue;

    if (el.classList) {
      el.classList.add(clsName);
    } else if (!hasClass(el, clsName)) {
      curClass += " " + clsName;
    }
  }
  if (!el.classList) {
    el.className = curClass;
  }
}

/* istanbul ignore next */
function removeClass(el, cls) {
  if (!el || !cls) return;
  var classes = cls.split(" ");
  var curClass = " " + el.className + " ";

  for (var i = 0, j = classes.length; i < j; i++) {
    var clsName = classes[i];
    if (!clsName) continue;

    if (el.classList) {
      el.classList.remove(clsName);
    } else if (hasClass(el, clsName)) {
      curClass = curClass.replace(" " + clsName + " ", " ");
    }
  }
  if (!el.classList) {
    el.className = trim(curClass);
  }
}

/* istanbul ignore next */
var getStyle = ieVersion < 9 ? function (element, styleName) {
  if (isServer) return;
  if (!element || !styleName) return null;
  styleName = camelCase(styleName);
  if (styleName === "float") {
    styleName = "styleFloat";
  }
  try {
    switch (styleName) {
      case "opacity":
        try {
          return element.filters.item("alpha").opacity / 100;
        } catch (e) {
          return 1.0;
        }
      default:
        return element.style[styleName] || element.currentStyle ? element.currentStyle[styleName] : null;
    }
  } catch (e) {
    return element.style[styleName];
  }
} : function (element, styleName) {
  if (isServer) return;
  if (!element || !styleName) return null;
  styleName = camelCase(styleName);
  if (styleName === "float") {
    styleName = "cssFloat";
  }
  try {
    var computed = document.defaultView.getComputedStyle(element, "");
    return element.style[styleName] || computed ? computed[styleName] : null;
  } catch (e) {
    return element.style[styleName];
  }
};

/* istanbul ignore next */
function setStyle(element, styleName, value) {
  if (!element || !styleName) return;

  if ((typeof styleName === "undefined" ? "undefined" : _typeof(styleName)) === "object") {
    for (var prop in styleName) {
      if (styleName.hasOwnProperty(prop)) {
        setStyle(element, prop, styleName[prop]);
      }
    }
  } else {
    styleName = camelCase(styleName);
    if (styleName === "opacity" && ieVersion < 9) {
      element.style.filter = isNaN(value) ? "" : "alpha(opacity=" + value * 100 + ")";
    } else {
      element.style[styleName] = value;
    }
  }
}

var isScroll = function isScroll(el, vertical) {
  if (isServer) return;

  var determinedDirection = vertical !== null || vertical !== undefined;
  var overflow = determinedDirection ? vertical ? getStyle(el, "overflow-y") : getStyle(el, "overflow-x") : getStyle(el, "overflow");

  return overflow.match(/(scroll|auto)/);
};

var getScrollContainer = function getScrollContainer(el, vertical) {
  if (isServer) return;

  var parent = el;
  while (parent) {
    if ([window, document, document.documentElement].includes(parent)) {
      return window;
    }
    if (isScroll(parent, vertical)) {
      return parent;
    }
    parent = parent.parentNode;
  }

  return parent;
};

var isInContainer = function isInContainer(el, container) {
  if (isServer || !el || !container) return false;

  var elRect = el.getBoundingClientRect();
  var containerRect = void 0;

  if ([window, document, document.documentElement, null, undefined].includes(container)) {
    containerRect = {
      top: 0,
      right: window.innerWidth,
      bottom: window.innerHeight,
      left: 0
    };
  } else {
    containerRect = container.getBoundingClientRect();
  }

  return elRect.top < containerRect.bottom && elRect.bottom > containerRect.top && elRect.right > containerRect.left && elRect.left < containerRect.right;
};

/***/ }),

/***/ 8:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony default export */ __webpack_exports__["a"] = (function (target) {
  for (var i = 1, j = arguments.length; i < j; i++) {
    var source = arguments[i] || {};
    for (var prop in source) {
      if (source.hasOwnProperty(prop)) {
        var value = source[prop];
        if (value !== undefined) {
          target[prop] = value;
        }
      }
    }
  }

  return target;
});

/***/ })

/******/ });