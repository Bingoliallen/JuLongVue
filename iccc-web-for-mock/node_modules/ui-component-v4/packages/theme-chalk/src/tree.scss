@import 'element-scss/mixins/mixins';
@import 'dg-common/var';
@import 'radio';

@include B(tree) {
    & .el-radio {
        margin-right: 0;
    }
    @include m(icon-class-style) {
        & .el-tree-node__content > .el-tree-node__expand-icon {
            font-size: 16px;
            //color: $--color-text-regular;
            color: $--color-text-secondary;
        }

        & .el-tree-node__content {
            &:hover {
                .el-tree-node__expand-icon {
                    color: $--color-primary;
                }
            }
        }

        & .is-radio {
            & .el-tree-node__content .el-tree-node__expand-icon {
                color: $--disabled-color-base;
            }
        }
    }
    &-filter__light {
        color: #f52e38;
    }
}

@include B(tree-node) {
    .el-tree-node__label {
        //height: 32px;
        //line-height: 32px;
        flex: 1;
        text-indent: 4px;
        border-radius: 2px;

		// update author: tangdm [code] height: 32px; line-height: 32px;
		@include mq($large) {
			height: 32px;
			line-height: 32px;
		}
		@include mq($medium) {
			height: 28px;
			line-height: 28px;
		}
		@include mq($small) {
			height: 24px;
			line-height: 24px;
		}
    }

    .dg-tree &.is-current > .el-tree-node__content {
        background-color: $dg--tree-node-checked-background-color;
        & .el-tree-node__label {
            color: $--color-primary;
        }

        //& .el-checkbox,
        //& .el-radio__input {
        //    & + .el-tree-node__label {
        //        background-color: white;
        //    }
        //}
    }

    .dg-tree &.is-focusable > .el-tree-node__content {
        .el-checkbox + .el-tree-node__label {
            color: $--select-option-color;
        }
    }

    .dg-tree & .el-tree-node__content .el-checkbox.is-checked {
        & + .el-tree-node__label {
            color: $--color-primary;
        }
    }

    & .el-tree-node__content {
        //height: 32px;

		// update author: tangdm [code] height: 32px;
		@include mq($large) {
			height: 32px;
		}
		@include mq($medium) {
			height: 28px;
		}
		@include mq($small) {
			height: 24px;
		}

        &:hover {
            background-color: $--tree-node-hover-background-color;
            //background-color: white;
            //& .el-tree-node__label {
            //    background-color: $--tree-node-hover-background-color;
            //}
        }
        & .el-checkbox.is-disabled + span.el-tree-node__label {
            color: $--disabled-color-base;
        }
        & > .el-tree-node__expand-icon {
            padding: 0px 4px;
        }
    }

    //& .el-tree-node.is-current > .el-tree-node__content {
    //    background-color: white;
    //}

    @include when(radio) {
        cursor: not-allowed;
        color: $--color-text-placeholder;
        background: $--disabled-fill-base;

        &:focus {
            > .el-tree-node__content {
                background-color: transparent;
            }
        }
        &:hover .el-tree-node__label {
            background-color: transparent;
        }
        & .el-tree-node__content:hover {
            background-color: transparent;
        }
        .el-tree-node__children .el-tree-node {
            background-color: transparent;
        }
        & .el-tree-node__content .el-tree-node__label {
            color: $--disabled-color-base;
            &:hover {
                background: transparent;
            }
        }
    }

    //树形组件复选框
    & .el-checkbox {
        & .el-checkbox__input {
            &.is-indeterminate {
                & .el-checkbox__inner {
                    background: transparent;
                    border: $--checkbox-input-border;
                    &::before {
                        border-radius: 2px;
                        transform: scale(1);
                        background-color: $--checkbox-checked-background-color;

						// update author: tangdm [code] top: 3px; left: 3px; width: 8px; height: 8px;
						@include mq($large) {
							top: 2px;
							left: 2px;
							width: 10px;
							height: 10px;
						}
						@include mq($medium) {
							top: 2px;
							left: 2px;
                            width: 10px;
                            height: 10px;
						}
						@include mq($small) {
							top: 2px;
							left: 2px;
                            width: 8px;
                            height: 8px;
						}
                    }
                }
            }

            & .el-checkbox__inner {
                &::after {
                    top: 0px;
                    left: 4px;
                    border-width: 2px;
                    border-radius: 2px;

					// update author: tangdm [code] width: 4px; height: 9px;
					@include mq($large) {
						left: 4px;
						top: 0;
						width: 4px;
						height: 9px;
					}
					@include mq($medium) {
						width: 4px;
						height: 9px;
					}
					@include mq($small) {
						width: 3px;
						height: 8px;
					}
                }
            }
        }
    }
}
