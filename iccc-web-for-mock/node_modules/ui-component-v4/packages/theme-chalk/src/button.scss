@import 'element-scss/mixins/mixins';
@import 'dg-common/var';

@import 'element-scss/button';

// 这里待优化，sass版本3.2 lib不兼容嵌套
// $map-type: (
//         name: 'primary',
//         border: $--button-primary-border-color
//     ),
//     (
//         name: 'success',
//         border: $--button-success-border-color
//     ),
//     (
//         name: 'warning',
//         border: $--button-warning-border-color
//     ),
//     (
//         name: 'danger',
//         border: $--button-danger-border-color
//     ),
//     (
//         name: 'info',
//         border: $--button-info-border-color
//     );

// @each $name,$border in $map-type {
// 	.is-ghost.el--button--#{$name} {
// 		 @include colors($border);
// 	}
// }
@mixin button-ghost($color) {
    color: $color;
    border-color: $color;

    // delete author: tangdm descript: remove the focus status [code] &:focus
    &:hover {
        border-color: mix($--color-white, $color, $--button-hover-tint-percent);
        color: mix($--color-white, $color, $--button-hover-tint-percent);
    }

    &:active {
        border-color: mix($--color-black, $color, $--button-active-shade-percent);
        color: mix($--color-black, $color, $--button-active-shade-percent);
        outline: none;
    }

    &.is-active {
        border-color: mix($--color-black, $color, $--button-active-shade-percent);
        color: mix($--color-black, $color, $--button-active-shade-percent);
    }

    &.is-disabled {
        // delete author: tangdm descript: remove the focus status [code] &:focus
        &,
        &:hover,
        &:active {
            color: $--color-white;
            border-color: mix($color, $--color-white);
        }
    }
}

@mixin colors($border) {
    color: $border;
    border-color: $border;
}
@include B(button) {
    // 幽灵组件 background: transparent !important; color: xxx; border-color: xxx;

    @include when(ghost) {
        &.el-button {
            background: transparent !important;
            @include button-ghost(
                $--button-default-font-color
            );
        }

        &.el-button--primary {
            @include button-ghost(
                $--button-primary-border-color
            );
        }

        &.el-button--success {
            @include button-ghost(
                $--button-success-border-color
            );
        }

        &.el-button--warning {
            @include button-ghost(
                $--button-warning-border-color
            );
        }

        &.el-button--danger {
            @include button-ghost(
                $--button-danger-border-color
            );
        }
    }

    // 虚线 border-style: dashed;
    @include when(dashed) {
        border-style: dashed;
    }
}
