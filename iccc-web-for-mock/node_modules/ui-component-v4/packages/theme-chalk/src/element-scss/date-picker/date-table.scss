@import '../common/var';
@import '../mixins/mixins';
// create author:lutz
@import '../../dg-common/add-ele.scss';

@include b(date-table) {
    font-size: 12px;
    user-select: none;

    @include when(week-mode) {
        .el-date-table__row {
            &:hover {
                div {
                    background-color: $--datepicker-inrange-background-color;
                }
                td.available:hover {
                    // update author:lutz [code] color: $--datepicker-font-color
                    color: $--color-primary;
                }
                td:first-child div {
                    margin-left: 5px;

                    /* update-start author:lutz
                    [code]
                        border-top-left-radius: 15px;
                        border-bottom-left-radius: 15px;
                    */
                    border-top-left-radius: $dg--datepicker-date-table-row-hover-radius;
                    border-bottom-left-radius: $dg--datepicker-date-table-row-hover-radius;
                    // update-end
                }
                td:last-child div {
                    margin-right: 5px;

                    /* update-start author:lutz
                    [code]
                        border-top-left-radius: 15px;
                        border-bottom-left-radius: 15px;
                    */
                    border-top-right-radius: $dg--datepicker-date-table-row-hover-radius;
                    border-bottom-right-radius: $dg--datepicker-date-table-row-hover-radius;
                    // update-end
                }
            }

            &.current div {
                background-color: $--datepicker-inrange-background-color;
            }
        }
    }

    td {
        width: 32px;
        height: 30px;
        padding: 4px 0;
        box-sizing: border-box;
        text-align: center;
        cursor: pointer;
        position: relative;

        & div {
            /* update-start author:lutz describe:选中和今日的高度与禁用高度不同
            [code]
                height: 30px;
                padding: 3px 0;
            */
            height: $dg--datepicker-active-width;
            padding: 0;
            // update-end

            box-sizing: border-box;
        }

        & span {
            /* update-start author:lutz
            [code]
                width: 24px;
                height: 24px;
                line-height: 24px;
            */
            width: $dg--datepicker-active-width;
            height: $dg--datepicker-active-width;
            line-height: $dg--datepicker-active-width;
            // update-end

            display: block;
            margin: 0 auto;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);

            // update author:lutz describe:显示矩形 [code] border-radius: 50%;
            border-radius: $dg--datepicker-active-background-border-radius;
        }

        &.next-month,
        &.prev-month {
            color: $--datepicker-off-font-color;

            // create author:lutz describe:下个月鼠标经过;
            & span {
                &:hover {
                    color: $--color-primary;
                    background-color: $dg--datepicker-today-background;
                }
            }
        }

        &.today {
            position: relative;

            span {
                color: $--color-primary;
                font-weight: bold;

                // create-start author:lutz describe:默认今天的样式修改
                border: 1px solid $--color-primary;
                box-sizing: border-box;
				border-radius: 2px;
                // create-end
            }

            &.start-date span,
            &.end-date span {
                color: $--color-white;
            }

            // create author:lutz describe:今日日期禁用时样式
            &.disabled {
                span {
                    color: $--disabled-color-base;
                    border: 1px solid $--disabled-border-base;
                }
            }
        }

        &.available:hover {
            color: $--datepicker-hover-font-color;

            // create author:lutz describe:鼠标经过样式
            & span {
                background-color: $dg--datepicker-today-background;
            }

            // create author:lutz describe:周的时候鼠标经过背景
            &.in-range span {
                background-color: $--datepicker-inrange-hover-background-color;
            }
        }

        &.in-range div {
            background-color: $--datepicker-inrange-background-color;
            &:hover {
                background-color: $--datepicker-inrange-hover-background-color;
            }
        }

        &.current:not(.disabled) span {
            color: $--color-white;
            background-color: $--datepicker-active-color;
        }
        &.start-date div,
        &.end-date div {
            color: $--color-white;
        }

        &.start-date span,
        &.end-date span {
            background-color: $--datepicker-active-color;

			// add author: tangdm descript: 增加圆角方式
			border-radius: 2px;

            // create author:lutz describe:周的时候鼠标经过背景
            &:hover {
                background-color: $--color-primary;
            }
        }

        &.start-date div {
            margin-left: 5px;

            /* update-start author:lutz
            [code]
                border-top-left-radius: 15px;
                border-bottom-left-radius: 15px;
            */
            border-top-left-radius: $dg--datepicker-active-background-border-radius;
            border-bottom-left-radius: $dg--datepicker-active-background-border-radius;
            // update
        }

        &.end-date div {
            margin-right: 5px;

            /* update-start author:lutz
            [code]
                border-top-right-radius: 15px;
                border-bottom-right-radius: 15px;
            */
            border-top-right-radius: $dg--datepicker-active-background-border-radius;
            border-bottom-right-radius: $dg--datepicker-active-background-border-radius;
            // update
        }

        &.disabled div {
            opacity: 1;
            cursor: not-allowed;

            /*
            update-start author:lutz describe:禁用样式变量抽取
            [code]
                background-color: $--background-color-base;
                color: $--color-text-placeholder;
            */
            background-color: $--disabled-fill-base;
            color: $--disabled-color-base;
        }

        &.selected div {
            margin-left: 5px;
            margin-right: 5px;
            background-color: $--datepicker-inrange-background-color;

            // update author:lutz [code] border-radius: 15px;
            border-radius: $dg--datepicker-active-background-border-radius;

            &:hover {
                background-color: $--datepicker-inrange-hover-background-color;
            }
        }

        &.selected span {
            background-color: $--datepicker-active-color;
            color: $--color-white;

            // update author:lutz [code] border-radius: 15px;
            border-radius: $dg--datepicker-active-background-border-radius;
        }

        // create author:lutz describe:多选的时候鼠标经过背景
        &.selected.available {
            &:hover {
                span {
                    background-color: $--color-primary;
                }
            }
        }

        &.week {
            font-size: 80%;
            color: $--datepicker-header-font-color;
        }
    }

    th {
        padding: 5px;
        color: $--datepicker-header-font-color;
        font-weight: 400;
        border-bottom: solid 1px $--border-color-lighter;
    }
}
