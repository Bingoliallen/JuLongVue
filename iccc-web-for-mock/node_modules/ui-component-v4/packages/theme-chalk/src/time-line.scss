@import 'element-scss/mixins/mixins';
@import 'dg-common/var';

@include B(time-line) {
    position: relative;
    width: 100%;
    height: 100%;
    padding: $dg--time-line-padding;
    box-sizing: border-box;
    .el-pagination span:not([class*='suffix']),
    .dg-time-line__message-title {
        @include mq($large) {
            font-size: $dg--font-large;
        }
        @include mq($medium) {
            font-size: $dg--font-medium;
        }
        @include mq($small) {
            font-size: $dg--font-small;
        }
    }
    @include e(inner) {
        width: 100%;
        height: 100%;
        &.is-pagination {
            height: calc(100% - 52px);
        }
    }
    @include e(content) {
        box-sizing: border-box;
        width: 100%;
        list-style: none;
        margin: 0;
        padding: 0;
    }
    @include e(dot) {
        position: absolute;
        top: 5px;
        left: 0;
        z-index: 2;
        width: $dg--time-line-dot-size;
        height: $dg--time-line-dot-size;
        border-radius: 50%;
        line-height: 10px;
        text-align: center;
        border: $dg--time-line-dot-width solid $dg--time-line-line-color;
        background-color: white;
        i {
            line-height: 20px;
        }
    }
    @include e(line) {
        position: absolute;
        top: $dg--time-line-dot-size + $dg--time-line-dot-width * 2 + 5;
        left: ($dg--time-line-dot-size - $dg--time-line-line-width + $dg--time-line-dot-width * 2) / 2;
        width: $dg--time-line-line-width;
        height: 100%;
        background-color: $dg--time-line-line-color;
        z-index: 1;
    }
    @include e(item) {
        position: relative;
        list-style: none;
    }
    @include e(document) {
        width: 100%;
        padding-left: $dg--time-line-dot-size + $dg--time-line-dot-width * 2 + 8;
        padding-bottom: 12px;
        box-sizing: border-box;
        p {
            font-size: 14px;
            line-height: 1.5;
            color: $--color-text-primary;
            margin: 4px 0;
            @include mq($small) {
                font-size: $dg--font-small;
            }
        }
    }
    @include e(box) {
        &-base {
            display: block;
            color: $--color-text-primary;
            line-height: 21px;
        }
        &-title {
            display: inline-block;
            vertical-align: top;
            font-size: $dg--font-medium;
            @include mq($small) {
                font-size: $dg--font-small;
            }
        }
        &-time {
            color: $--color-text-regular;
            font-size: $dg--font-medium;
            @include mq($small) {
                font-size: $dg--font-small;
            }
        }
    }
    @include e(message) {
        padding: 5px 15px;
        margin-right: 20px;
        background: #ffffff;
        border: 1px solid $dg--time-line-message-border-color;
        -webkit-box-shadow: $dg--time-line-message-box-shadow;
        -moz-box-shadow: $dg--time-line-message-box-shadow;
        box-shadow: $dg--time-line-message-box-shadow;
        &-title {
            margin-top: 5px;
            color: $--color-text-primary;
            font-size: 14px;
            @include mq($small) {
                font-size: $dg--font-small;
            }
        }
        &-info {
            display: block;
            padding: 3px 0;
            color: $--color-text-secondary;
            font-size: 14px;
            @include mq($small) {
                font-size: $dg--font-small;
            }
        }
    }
    @include e(pagination) {
        padding: 10px 0;
    }
    //自定义图表
    @include e(item-icon) {
        & .dg-time-line__dot {
            width: $dg--time-line-icon-size;
            height: $dg--time-line-icon-size;
            top: 2px;
            left: -($dg--time-line-icon-size - $dg--time-line-dot-size) / 2;
            & i {
                line-height: $dg--time-line-icon-size;
                display: flex;
                align-items: center;
                font-weight: 600;
                justify-content: center;
            }
        }

        & .dg-time-line__document {
            padding-left: $dg--time-line-icon-size + $dg--time-line-dot-width * 2 + 8;
        }
    }

    //没有边框
    & .dg-time-line__no-border {
        & .dg-time-line__dot {
            border-width: 0;
            left: $dg--time-line-dot-width/2;
        }
    }

    & .dg-time-line__content-icon {
        padding-left: ($dg--time-line-icon-size - $dg--time-line-dot-size) / 2;
    }

    & .line-background-color {
        background-color: $dg--time-line-line-color;
    }

    //时间轴左右两侧摆放
    @include e(both) {
        & .dg-time-line__item {
            width: 50%;
            left: 50%;
            margin-left: -($dg--time-line-dot-size + $dg--time-line-dot-width * 2)/2;
            &:nth-child(even) {
                left: auto;
                margin-left: 0px;
                text-align: right;
                right: -($dg--time-line-dot-size + $dg--time-line-dot-width * 2)/2;
                & .dg-time-line__line {
                    right: ($dg--time-line-dot-size + $dg--time-line-dot-width * 2 - $dg--time-line-line-width)/2;
                    left: auto;
                }
                & .dg-time-line__dot {
                    right: 0px;
                    left: auto;
                }
                & .dg-time-line__document {
                    padding-right: $dg--time-line-dot-size + $dg--time-line-dot-width * 2 + 8;
                    padding-left: 0px;
                }
                &.dg-time-line__item-icon {
                    & .dg-time-line__dot {
                        right: -($dg--time-line-icon-size - $dg--time-line-dot-size) / 2;
                    }

                    &.dg-time-line__no-border {
                        & .dg-time-line__dot {
                            right: -($dg--time-line-icon-size - $dg--time-line-dot-size) / 2 + $dg--time-line-dot-width;
                        }
                    }
                }
            }
        }
    }

    @include e(label) {
        & .dg-time-line__item {
            width: 50%;
            text-align: right;
            & .dg-time-line__line {
                right: ($dg--time-line-dot-size + $dg--time-line-dot-width * 2 - $dg--time-line-line-width)/2;
                left: auto;
            }
            & .dg-time-line__dot {
                right: 0px;
                left: auto;
            }
            & .dg-time-line__document {
                padding-left: $dg--time-line-dot-size + $dg--time-line-dot-width * 2 + 8;
                margin-left: 100%;
                text-align: left;
            }
            &.dg-time-line__item-icon {
                & .dg-time-line__dot {
                    right: -($dg--time-line-icon-size - $dg--time-line-dot-size) / 2;
                }

                &.dg-time-line__no-border {
                    & .dg-time-line__dot {
                        right: -($dg--time-line-icon-size - $dg--time-line-dot-size) / 2 + $dg--time-line-dot-width;
                    }
                }
            }
        }
        & .dg-time-line--label {
            padding-right: $dg--time-line-dot-size + $dg--time-line-dot-width * 2 + 8;
            text-align: right;
        }
        & .dg-time-line__document {
          margin-top: -($dg--time-line-dot-size + $dg--time-line-dot-width * 2 + 8);
        }
    }
}
