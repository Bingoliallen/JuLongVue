/*
 * @Author: lutz
 * @Date: 2019-06-24 10:42:36
 * @Last Modified by: lutz
 * @Last Modified time: 2019-07-04 14:23:18
 */

// Function
export const noop = () => {};

/**
 * 驼峰转换中划线
 * kebabCase('dgSelect') => "dg-select"
 * kebabCase('DgSelect') => "dg-select"
 * @param {String} str
 */
export const kebabCase = function(str) {
    const hyphenateRE = /([^-])([A-Z])/g;
    return str
        .replace(hyphenateRE, '$1-$2')
        .replace(hyphenateRE, '$1-$2')
        .toLowerCase();
};

/**
 * base64数据导出文件，文件下载
 * @param {String} filename 导出文件名称
 * @param {String} href a 标签的 href 属性值
 */
export const downloadFile = function(filename, href) {
    const DownloadLink = document.createElement('a');
    if (DownloadLink) {
        document.body.appendChild(DownloadLink);
        DownloadLink.style = 'display: none';
        DownloadLink.download = filename;
        DownloadLink.href = href;

        // 兼容浏览器底层事件不一致
        if (document.createEvent) {
            let DownloadEvt = document.createEvent('MouseEvents');
            DownloadEvt.initEvent('click', true, false);
            DownloadLink.dispatchEvent(DownloadEvt);
        } else if (document.createEventObject) {
            DownloadLink.fireEvent('onclick');
        } else if (typeof DownloadLink.onclick == 'function') {
            DownloadLink.onclick();
        }

        document.body.removeChild(DownloadLink);
    }
};

/*
// 浏览器全屏
export function toFullScreen() {
    let elem = document.body;
    elem.webkitRequestFullScreen
        ? elem.webkitRequestFullScreen()
        : elem.mozRequestFullScreen
        ? elem.mozRequestFullScreen()
        : elem.msRequestFullscreen
        ? elem.msRequestFullscreen()
        : elem.requestFullScreen
        ? elem.requestFullScreen()
        : alert('浏览器不支持全屏');
}

// 浏览器退出全屏
export function exitFullscreen() {
    let elem = parent.document;
    elem.webkitCancelFullScreen
        ? elem.webkitCancelFullScreen()
        : elem.mozCancelFullScreen
        ? elem.mozCancelFullScreen()
        : elem.cancelFullScreen
        ? elem.cancelFullScreen()
        : elem.msExitFullscreen
        ? elem.msExitFullscreen()
        : elem.exitFullscreen
        ? elem.exitFullscreen()
        : alert('切换失败,可尝试Esc退出');
}

// 禁止某些键盘事件
document.addEventListener('keydown', function(event){
    return !(
        112 == event.keyCode || //F1
        123 == event.keyCode || //F12
        event.ctrlKey && 82 == event.keyCode || //ctrl + R
        event.ctrlKey && 78 == event.keyCode || //ctrl + N
        event.shiftKey && 121 == event.keyCode || //shift + F10
        event.altKey && 115 == event.keyCode || //alt + F4
        "A" == event.srcElement.tagName && event.shiftKey //shift + 点击a标签
    ) || (event.returnValue = false)
});

// 禁止右键、选择、复制
['contextmenu', 'selectstart', 'copy'].forEach(function(ev){
    document.addEventListener(ev, function(event){
        return event.returnValue = false
    })
});
*/
