<!--
    Exception 多行卡片布局
    @Author: zouwf
    @Date: 2019-12-10
-->
<template>
    <div class="u-card-layout">
        <!--卡片布局-->
        <el-row class="u-card-layout-item" :gutter="20">
            <el-col
                    class="u-card-layout-item_son"
                    :span="rowNum"
                    v-for="(item, index) in data"
                    :key="index"
                    :xl="rowNum"
                    :sm="4"
                    :xs="4"
            >
                <card :data="item"  style="height: 205px"></card>
            </el-col>
        </el-row>
        <!--分页-->
        <div v-if="pagination" class="u-card-layout-pagination">
            <el-pagination
                @size-change="handleSizeChange"
                @current-change="handleCurrentChange"
                :current-page="paging.currentPage"
                :page-sizes="[100, 200, 300, 400]"
                :page-size="paging.pageSize"
                layout="total, sizes, prev, pager, next, jumper"
                :total="paging.total"
            >
            </el-pagination>
        </div>
    </div>
</template>

<script>
import cardInformation from "../../components/card-information/index";
import card from "@/components/card/index";
export default {
    name: "index",
    props: {
        //目标数据
        data: {
            type: Array,
            default: () => {
                return [];
            }
        },
        //每行显示多少个
        rowNum: {
            type: Number,
            default: 24 / 8
        },
        //分页配置
        paging: {
            type: Object,
            default: {
                total: 40,
                pageSize: 10,
                layout: "",
                currentPage: 1
            }
        },
        //是否开启分页
        pagination: {
            type: Boolean,
            default: true
        }
    },
    data() {
        return {};
    },
    methods: {
        //切换页码
        handleSizeChange(val) {
            this.$emit("handleSizeChange", val);
        },
        //切换下拉大小
        handleCurrentChange(val) {
            this.$emit("handleCurrentChange", val);
        }
    },
    created(){
        // console.log(this.data);
    },
    components: {
        cardInformation,
        card
    }
};
</script>
