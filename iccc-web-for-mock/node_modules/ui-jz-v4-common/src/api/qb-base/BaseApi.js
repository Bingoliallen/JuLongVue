import request from "@/utils/request";
const { getSetting } = window.systemParamsUtils;
/**
 * api基础类
 */
class BaseApi{
    request = request //ajax访问
    module=''
    modulePath = ''  //模块路径
    moduletype='sboot' //调用类型
    constructor(module){
        //读取模块配置
        this.module=module;
        let moudleConfig=getSetting('MOUDLE_CONFIG');
        this.modulePath=this.getBaseURL(module);
        if(typeof(moudleConfig) == "string"){
            this.moduletype='sboot';
        }else if(typeof(moudleConfig) === "object"){
            this.moduletype=moudleConfig[this.module]=='dubbo'?'dubbo':'sboot';
        }
    }
    /**
     * 获取基础路径
     * 默认请求sboot接口
     */
    getBaseURL(module){
        if (module === "" || !module) {
            module = "BASE_API";
        }
        return getSetting(module);
    }
}
export default BaseApi;
export {
  BaseApi
}
