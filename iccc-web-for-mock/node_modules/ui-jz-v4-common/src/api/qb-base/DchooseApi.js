import { AbsDchooseApi } from "./abstract/AbsDchooseApi";
import { DubboDchooseApi } from "./dubbo/DubboDchooseApi";
import { SbootDchooseApi } from "./sboot/SbootDchooseApi";

class DchooseApi extends AbsDchooseApi {
    api = null;

    constructor(module) {
        super(module);
        // 初始化api
        if (this.moduletype === "sboot") {
            this.api = new SbootDchooseApi(module);
        } else if (this.moduletype === "dubbo") {
            this.api = new DubboDchooseApi(module);
        } else {
            throw new Error(`module：${this.module}，无法匹配api错误`);
        }
    }

    loadData(chooseParam, loading ,callback) {
        return this.api.loadData(chooseParam, loading ,callback);
    }
}
export { DchooseApi };
