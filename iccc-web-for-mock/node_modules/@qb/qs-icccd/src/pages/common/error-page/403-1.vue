<template>
  <div>
    <dg-page-code type="403" :title="title" :en="en" :msg-list="msgList" is-advice>
      <h2 class="dg-page-code__title">{{ title }}</h2>
      <h4 class="dg-page-code__en">{{ en }}</h4>
      <ul class="dg-page-code__msg">
        <li v-for="(item, index) in msgList" :key="index">{{ item }}</li>
      </ul>
      <div class="dg-page-code__advice">
        <p class="dg-page-code__tip">您可以选择：</p>
        <ul class="dg-page-code__option">
          <li>
            <a class="dg-page-code__link" @click="logout">退出重登录</a>
          </li>
        </ul>
      </div>
    </dg-page-code>
  </div>
</template>

<script>
export default {
  data() {
    return {
      title: '抱歉！您没有操作权限',
      en: 'Please contact your administrator !',
      msgList: ['No operational permission !', 'Please contact your administrator']
    };
  },
  methods: {
    logout() {
      let the = this;
      this.$dgConfirm('是否确定退出系统?', '提示', {
        confirmButtonText: '确定',
        cancelButtonText: '取消',
        customClass: 'confirm_user',
        cancelButtonClass: 'btn-custom-cancel',
        confirmButtonClass: 'btn-custom-submit',
        closeOnClickModal: false,
        type: 'warning'
      })
        .then(() => {
          this.$router.push('/');
          window.loginUtil.logout(the);
        })
        .catch(() => {});
      // this.$dgHintLayer(this,{
      //     content: '<div class="bs-layer-hint"><i class="el-icon-warning is-warning" style="font-size: 20px"></i>是否确定退出系统？</div>',
      //     yes:function(index) {
      //         the.$router.push("/");
      //         window.loginUtil.logout(the);
      //         layer.close(index);
      //     },
      // });
    }
  }
};
</script>

<style></style>
