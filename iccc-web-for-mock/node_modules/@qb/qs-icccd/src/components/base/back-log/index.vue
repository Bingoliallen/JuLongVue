<template>
  <div class="bs-backlog__bg">
    <div class="bs-backlog__title">
      {{ backlogTitle }}
      <span class="more" @click="routerToPath('/waiting-work')" v-show="isShowMore">更多</span>
    </div>
    <ul v-if="backlogData.length">
      <div v-for="(item, index) in backlogData" class="bs-backlog__cont" :key="index" @click="executeFun(item)">
        <p class="dbgz">{{ item.zw }}</p>
        <div class="time">
          <qb-showlable :values="item.sqsj" type="DATE" format="yyyy-MM-dd HH:mm:ss" :showTitle="false"></qb-showlable>
        </div>
      </div>
    </ul>
    <!-- 无数据的时候 -->
    <div v-else class="bs-backlog__noMsg">
      <img src="../../../assets/images/dashboard/icon__no-msg.png" alt="" />
    </div>
  </div>
</template>

<script>
export default {
  name: 'backlog',
  props: {
    backlogData: {
      type: Array,
      default: () => []
    },
    isShowMore: {
      type: Boolean,
      default: true
    }
  },
  data() {
    return {
      backlogTitle: '待办工作'
    };
  },
  methods: {
    /**
     * @func 通过点击方式将数据传给父组件
     * @param {object} item - 被点击对象数据
     */
    executeFun(item) {
      this.$emit('executeFun', item);
    }
  }
};
</script>

<style scoped lang="scss">
@import 'index.scss';
</style>
