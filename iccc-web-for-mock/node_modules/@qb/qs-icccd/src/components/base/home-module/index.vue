<template>
  <div
    @click="handleClickOpen(data)"
    :data="data"
    :class="[
      'bs-home-module__box ',
      !checkPermission([data.rights]) ? 'is-disable' : '',
      data.type == 'big' ? 'is-big' : '',
      data.bg == 'black' ? 'is-black' : ''
    ]"
  >
    <i :class="['icon', data.icon, data.iconDir]"></i>
    <slot name="applyModule"></slot>
    <div class="is-title">{{ data.title }}</div>
  </div>
</template>

<script>
import checkPermission from '@icccdPath/utils/permission'; // 权限判断函数
export default {
  name: 'homeModule',
  components: {},
  props: {
    data: {
      type: Object,
      default: () => {
        return {
          bg: 'light',
          type: 'small',
          title: '快速申请',
          icon: 'iconf-kuaisushenqing',
          iconDir: 'is-top-right',
          limit: false
        };
      }
    }
  },
  data() {
    return {};
  },
  methods: {
    checkPermission,
    /**
     * 打开弹框或者打开模块
     * */
    handleClickOpen(param) {
      if (!this.checkPermission([param.rights])) {
        return;
      }
      let index = param.openType;
      if (index == 1) {
        // let the=this;
        // let dialogContent=this.$dgLayer({
        //     // 标题
        //     title: '快速申请',
        //     // 组件内容
        //     component: require('../../pages/sys-manage/bs-apply/bc-add/index.vue'),
        //     btn: ['提交', '取消'],
        //     btnAlign:'c',
        //     maxmin:false,
        //     area: 'auto',
        //     skin:'layer-transparent ',
        //     yes(dialogIndex) {
        //         let a = dialogContent.$children[0].onSubmit((res)=>{
        //             if(res.status==1){
        //                 layer.close(dialogIndex);
        //                 the.$router.push('/bs-apply');
        //             }
        //         });
        //     }
        // });
      }
      // 背审查询
      if (index == 2) {
        this.$router.push('/bs-query');
      }
      // 背审统计
      if (index == 3) {
        this.$router.push('/statistic-analysis');
      }
      // 背审申请
      if (index == 6) {
        this.$router.push('/bs-apply');
      }
      // 待办工作
      if (index == 4) {
        this.$router.push('/waiting-work');
      }
      // 系统管理
      if (index == 5) {
        this.$router.push('/bs-solution');
      }
    }
  }
};
</script>

<style scoped lang="scss">
@import 'index';
</style>
